<template>
    <div class="menuContent">
        <div class="center">
            <p class="write">Faites votre choix</p>
            <div class="can-toggle demo-rebrand-1">
                <input id="d" type="checkbox" v-model="veggieMode">
                <label for="d">
                    <div class="can-toggle__switch" data-checked="Veggie" data-unchecked="Classic"></div>
                </label>
            </div>
        </div>        
        <md-tabs key="1"  v-if="veggieMode" md-dynamic-height class="days" v-on:md-changed="emitValue">
<template v-for="day in weekDay">
            <md-tab v-for="menu in weekVeggieMenu" v-if="menu.shortDate === day" 
            :key="menu.id"
            :id="menu.idDate" 
            :md-label="menu.shortDate">
                <p class="dateMenu">{{menu.longDate}}</p>
                <h1>{{menu.name}}</h1>
                <slider-show :images="menu.images"></slider-show>
                <div class="group">
                    <div class="addToKart">
                        <span class="price">{{menu.price}}€</span>
                
                        <button v-if="myShopKart[menu.idDate]" @click="removeMenu(menu.idDate); showKart = true;" class="addKart">
                            Supprimer du panier
                        </button>

                        <button v-else @click="addMenu([menu, menu.idDate]); showKart = true;" v-scroll-to="'#drinks'" class="addKart">
                            + Ajouter au panier
                        </button>
                               
                        <div class="payData" @click="payData = true"><md-icon>info_outline</md-icon><span>Moyens de paiement acceptés</span></div>
                    </div>
                    <md-tabs>
                        <md-tab id="plats" md-label="menu">
                            <ul>
                                <li>Entrée</li>
                                <li>{{menu.dish.entry}}</li>
                                <li>Plat</li>
                                <li>{{menu.dish.dish}}</li>
                                <li>Dessert</li>
                                <li>{{menu.dish.dessert}}</li>
                            </ul>
                        </md-tab>
                        <md-tab id="ingredient" md-label="ingrédients">
                            <ul>
                                <li>Entrée</li>
                                <li>{{menu.ingredient.entry}}</li>
                                <li>Plat</li>
                                <li>{{menu.ingredient.dish}}</li>
                                <li>Dessert</li>
                                <li>{{menu.ingredient.dessert}}</li>
                            </ul>
                        </md-tab>
                    </md-tabs>
                </div>
            </md-tab>
</template>
        </md-tabs>
        <md-tabs key="2"  v-if="!veggieMode" md-dynamic-height class="days" v-on:md-changed="emitValue">
<template v-for="day in weekDay">
            <md-tab v-for="menu in weekClassicMenu" v-if="menu.shortDate === day" 
            :key="menu.id"
            :id="menu.idDate" 
            :md-label="menu.shortDate">
                <p class="dateMenu">{{menu.longDate}}</p>
                <h1>{{menu.name}}</h1>
                <slider-show :images="menu.images"></slider-show>
                <div class="group">
                    <div class="addToKart">
                        <span class="price">{{menu.price}}€</span>
                
                        <button v-if="myShopKart[menu.idDate]" @click="removeMenu(menu.idDate); showKart = true;" class="addKart">
                            Supprimer du panier
                        </button>

                        <button v-else @click="addMenu([menu, menu.idDate]); showKart = true;" v-scroll-to="'#drinks'" class="addKart">
                            + Ajouter au panier
                        </button>
                               
                        <div class="payData" @click="payData = true"><md-icon>info_outline</md-icon><span>Moyens de paiement acceptés</span></div>
                    </div>
                    <md-tabs>
                        <md-tab id="plats" md-label="menu">
                            <ul>
                                <li>Entrée</li>
                                <li @click="$emit('currentImage', 'entry')">{{menu.dish.entry}}</li>
                                <li>Plat</li>
                                <li @click="$emit('currentImage',  'dish')">{{menu.dish.dish}}</li>
                                <li>Dessert</li>
                                <li @click="$emit('currentImage', 'dessert')">{{menu.dish.dessert}}</li>
                            </ul>
                        </md-tab>
                        <md-tab id="ingredient" md-label="ingrédients">
                            <ul>
                                <li>Entrée</li>
                                <li>{{menu.ingredient.entry}}</li>
                                <li>Plat</li>
                                <li>{{menu.ingredient.dish}}</li>
                                <li>Dessert</li>
                                <li>{{menu.ingredient.dessert}}</li>
                            </ul>
                        </md-tab>
                    </md-tabs>
                </div>
            </md-tab>
</template>
        </md-tabs>
        <complete-menu @openRecap="showKart = true" id="drinks" :currentMenuDay="currentMenuDay"></complete-menu>
        <md-dialog class="recapKart" :md-active.sync="showKart">
            <md-dialog-title>Récapitulatif</md-dialog-title>
            <md-dialog-content>
                <div class="description">
                    <ul class="description__content">
                        <template v-for="item in myShopKart">
                            <li><p>{{item.name}}</p></li>
                            <template v-if="item.drinks.length != 0" v-for="drink in item.drinks">
                                <li>
                                    <p>{{drink.name}}</p>
                                </li>
                            </template>
                        </template>
                    </ul>
                    <div class="description__price">
                        <dl>
                            <dt>Articles :</dt>
                            <dd>{{priceKart}} €</dd>
                            <dt>Livraison :</dt>
                            <dd>{{deliveryPrice}}0 €</dd>
                            <dt>T.V.A. :</dt>
                            <dd>Comprise</dd>
                            <dt class="end">Montant :</dt>
                            <dd class="end">{{priceKart + deliveryPrice}} €</dd>
                        </dl>
                    </div>
                </div>
            </md-dialog-content>
            <md-dialog-actions>                
                <md-button class="x" @click="showKart = false"><md-icon>close</md-icon></md-button>
                <md-button class="buy" @click="showKart = false; $router.push({ name: 'Kart'})">Passer la commande</md-button>
            </md-dialog-actions>
        </md-dialog>
        <md-dialog class="payData" id="payData" :md-active.sync="payData">
            <md-dialog-actions>                
                <md-button class="x" @click="payData = false"><md-icon>close</md-icon></md-button>
            </md-dialog-actions>
            <md-dialog-title>Moyens de paiement acceptés</md-dialog-title>
            <md-dialog-content>
                <div class="flex">
                    <div class="left">
                        <h2>Sur le site</h2>
                        <div>
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                <g>
                                    <g>
                                        <path d="M156,416c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10s10-4.48,10-10C166,420.48,161.52,416,156,416z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M432,236c-11.938,0-22.665,5.264-30,13.585C394.665,241.264,383.938,236,372,236c-22.056,0-40,17.944-40,40
                                            c0,22.056,17.944,40,40,40c11.938,0,22.665-5.264,30-13.585c7.335,8.321,18.062,13.585,30,13.585c22.056,0,40-17.944,40-40
                                            C472,253.944,454.056,236,432,236z M372,296c-11.028,0-20-8.972-20-20s8.972-20,20-20s20,8.972,20,20S383.028,296,372,296z
                                            M432,296c-11.028,0-20-8.972-20-20s8.972-20,20-20s20,8.972,20,20S443.028,296,432,296z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M482,196h-50V46c0-16.542-13.458-30-30-30H30C13.458,16,0,29.458,0,46v240c0,16.542,13.458,30,30,30h56v150
                                            c0,16.542,13.458,30,30,30h366c16.542,0,30-13.458,30-30V226C512,209.458,498.542,196,482,196z M20,46c0-5.514,4.486-10,10-10h372
                                            c5.514,0,10,4.486,10,10v30H20V46z M20,96h392v40H20V96z M86,226v70H30c-5.514,0-10-4.486-10-10V156h392v40H116
                                            C99.458,196,86,209.458,86,226z M492,466c0,5.514-4.486,10-10,10H116c-5.514,0-10-4.486-10-10V226c0-5.514,4.486-10,10-10h366
                                            c5.514,0,10,4.486,10,10V466z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M259,246H156c-5.522,0-10,4.478-10,10v40c0,5.522,4.478,10,10,10h103c5.522,0,10-4.478,10-10v-40
                                            C269,250.478,264.522,246,259,246z M249,286h-83v-20h83V286z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M199,356h-43c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h43c5.522,0,10-4.478,10-10C209,360.478,204.522,356,199,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M279,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C289,360.478,284.522,356,279,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M302,416H199c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h103c5.522,0,10-4.478,10-10
                                            C312,420.478,307.522,416,302,416z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M362,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C372,360.478,367.522,356,362,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M442,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C452,360.478,447.522,356,442,356
                                            z"/>
                                    </g>
                                </g>
                            </svg>
                            <p>Carte bancaire</p>
                        </div>
                        <div>
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
                                <g>
                                    <g>
                                        <g>
                                            <path d="M503.915,153.88c4.465,0,8.084-3.619,8.084-8.084v-31.459c0-20.619-16.774-37.394-37.393-37.394H37.393
                                                C16.775,76.942,0,93.716,0,114.337v283.325c0,20.62,16.775,37.395,37.393,37.395h437.214c20.619,0,37.393-16.775,37.392-37.395
                                                V172.024c0-4.466-3.62-8.084-8.084-8.084c-4.466,0-8.084,3.618-8.084,8.084V397.66c0,11.705-9.522,21.227-21.225,21.227H37.393
                                                c-11.704,0-21.225-9.522-21.225-21.227V114.336c0-11.704,9.521-21.226,21.225-21.225h437.212
                                                c11.703,0,21.225,9.522,21.225,21.226v31.459C495.831,150.262,499.449,153.88,503.915,153.88z"/>
                                            <path d="M194.033,376.384c0,8.411,5.877,14.285,14.29,14.285h38.69c9.418,0,16.644-5.974,18.859-15.589
                                                c0.04-0.172,0.073-0.347,0.102-0.522l7.759-48.115c0.03-0.189,0.055-0.378,0.071-0.568c0.115-1.307,0.728-3.499,3.516-3.499h3.96
                                                c22.575,0,41.128-5.076,55.144-15.085c16.179-11.556,26.42-29.64,30.439-53.756c2.543-15.282,1.976-28.421-1.687-39.051
                                                c-0.014-0.041-0.028-0.081-0.043-0.122c-2.932-8.091-7.909-15.172-14.5-20.723c0.835-20.04-3.447-33.256-14.676-46.094
                                                c-12.415-14.192-34.306-21.388-65.065-21.388h-77.613c-8.818,0-16.13,7.641-18.532,14.832c-0.147,0.437-0.254,0.886-0.324,1.342
                                                l-31.044,203.336c-0.061,0.403-0.093,0.812-0.093,1.22c0,8.737,6.409,15.845,14.289,15.845h38.589l-2.023,12.342
                                                C194.07,375.507,194.033,375.946,194.033,376.384z M336.108,240.599c0.397-0.633,0.779-1.283,1.163-1.93
                                                c0.287-0.484,0.581-0.961,0.86-1.454c0.412-0.725,0.806-1.471,1.202-2.215c0.233-0.437,0.474-0.863,0.702-1.307
                                                c0.59-1.149,1.16-2.32,1.712-3.51c0.112-0.243,0.218-0.493,0.329-0.736c0.475-1.048,0.943-2.105,1.39-3.185
                                                c0.197-0.475,0.379-0.967,0.571-1.448c0.329-0.827,0.66-1.651,0.972-2.496c0.203-0.549,0.393-1.112,0.59-1.669
                                                c0.282-0.8,0.566-1.599,0.833-2.414c0.194-0.591,0.377-1.195,0.564-1.795c0.181-0.581,0.373-1.151,0.547-1.74
                                                c0.923,1.611,1.713,3.316,2.366,5.108c2.719,7.944,3.068,18.686,1.008,31.073c-6.204,37.228-28.981,55.326-69.634,55.326h-3.96
                                                c-13.006,0-18.794,10.58-19.589,17.901l-7.67,47.566c-0.713,2.825-1.952,2.825-3.049,2.825h-36.395l2.97-18.118
                                                c0.031-0.142,0.058-0.286,0.082-0.429l11.516-70.341c0.018-0.033,0.033-0.07,0.051-0.104c0.027-0.05,0.05-0.102,0.075-0.153
                                                c0.023-0.044,0.044-0.089,0.067-0.135c0.04-0.083,0.085-0.163,0.122-0.247c0.102-0.232,0.196-0.47,0.277-0.714
                                                c0.645-1.933,2.487-3.583,3.283-3.787h23.201c1.636,0,3.251-0.026,4.848-0.072c0.534-0.015,1.055-0.046,1.584-0.068
                                                c1.056-0.042,2.113-0.083,3.152-0.146c0.62-0.037,1.227-0.089,1.84-0.134c0.93-0.068,1.86-0.134,2.777-0.219
                                                c0.648-0.059,1.285-0.133,1.925-0.201c0.863-0.092,1.727-0.184,2.577-0.291c0.653-0.082,1.298-0.176,1.945-0.267
                                                c0.818-0.115,1.635-0.234,2.441-0.364c0.65-0.105,1.291-0.219,1.934-0.333c0.785-0.14,1.565-0.285,2.338-0.439
                                                c0.638-0.127,1.272-0.261,1.903-0.398c0.758-0.165,1.51-0.336,2.256-0.515c0.622-0.149,1.242-0.302,1.856-0.46
                                                c0.736-0.19,1.465-0.39,2.19-0.594c0.604-0.17,1.206-0.341,1.801-0.52c0.718-0.217,1.426-0.445,2.132-0.675
                                                c0.582-0.19,1.166-0.378,1.741-0.578c0.705-0.245,1.398-0.504,2.091-0.764c0.554-0.207,1.111-0.41,1.657-0.626
                                                c0.705-0.279,1.395-0.576,2.086-0.87c0.515-0.22,1.037-0.431,1.545-0.66c0.733-0.329,1.448-0.677,2.166-1.024
                                                c0.447-0.216,0.903-0.422,1.345-0.645c0.985-0.497,1.951-1.016,2.908-1.547c0.369-0.205,0.734-0.415,1.098-0.625
                                                c0.881-0.507,1.755-1.02,2.611-1.555c0.429-0.269,0.844-0.555,1.266-0.832c0.632-0.413,1.267-0.822,1.884-1.253
                                                c0.455-0.316,0.896-0.649,1.343-0.974c0.567-0.413,1.135-0.822,1.69-1.249c0.454-0.349,0.897-0.714,1.343-1.073
                                                c0.528-0.426,1.055-0.85,1.572-1.289c0.444-0.377,0.878-0.766,1.314-1.154c0.499-0.444,0.996-0.889,1.483-1.346
                                                c0.43-0.403,0.852-0.815,1.273-1.229c0.473-0.465,0.943-0.933,1.406-1.411c0.413-0.427,0.82-0.859,1.224-1.297
                                                c0.452-0.488,0.898-0.983,1.339-1.484c0.393-0.447,0.784-0.899,1.168-1.357c0.432-0.514,0.857-1.038,1.277-1.566
                                                c0.373-0.467,0.744-0.935,1.108-1.411c0.416-0.545,0.821-1.102,1.226-1.66c0.348-0.481,0.698-0.96,1.038-1.451
                                                c0.403-0.582,0.793-1.178,1.185-1.774C335.469,241.583,335.794,241.098,336.108,240.599z M228.489,264.313l9.95-64.654
                                                c0.628-2.798,2.01-2.966,3.08-3.011h47.33c0.181,0,0.36-0.006,0.539-0.018h21.537c0.115,0.009,0.233,0.014,0.349,0.017
                                                c3.393,0.084,12.169,0.654,20.545,4.095c0.623,0.276,1.397,0.646,2.268,1.112c0.017,0.031,0.03,0.066,0.048,0.097
                                                c-0.108,0.486-0.227,0.958-0.34,1.439c-0.089,0.385-0.18,0.768-0.273,1.15c-0.094,0.385-0.179,0.779-0.276,1.16
                                                c-0.136,0.533-0.285,1.048-0.427,1.572c-0.085,0.316-0.17,0.632-0.259,0.945c-0.114,0.41-0.22,0.829-0.337,1.233
                                                c-0.157,0.539-0.329,1.061-0.493,1.592c-0.066,0.212-0.132,0.425-0.197,0.635c-0.147,0.465-0.285,0.94-0.435,1.398
                                                c-0.18,0.545-0.375,1.071-0.563,1.608c-0.044,0.126-0.088,0.252-0.134,0.378c-0.178,0.503-0.348,1.016-0.534,1.512
                                                c-0.205,0.55-0.425,1.08-0.638,1.62c-0.026,0.065-0.051,0.129-0.077,0.193c-0.206,0.52-0.404,1.048-0.618,1.559
                                                c-0.231,0.551-0.476,1.083-0.716,1.624c-0.24,0.542-0.473,1.093-0.721,1.625c-0.249,0.532-0.514,1.047-0.772,1.569
                                                c-0.255,0.518-0.504,1.046-0.769,1.553c-0.271,0.52-0.557,1.021-0.838,1.53c-0.269,0.489-0.53,0.988-0.808,1.468
                                                c-0.292,0.504-0.599,0.988-0.901,1.482c-0.284,0.465-0.558,0.938-0.85,1.392c-0.315,0.49-0.647,0.961-0.971,1.441
                                                c-0.295,0.435-0.582,0.881-0.885,1.306c-0.34,0.479-0.697,0.937-1.047,1.403c-0.305,0.406-0.602,0.822-0.914,1.22
                                                c-0.362,0.46-0.742,0.901-1.113,1.349c-0.318,0.384-0.628,0.776-0.954,1.151c-0.385,0.442-0.786,0.865-1.181,1.294
                                                c-0.331,0.36-0.654,0.731-0.993,1.082c-0.41,0.426-0.838,0.832-1.258,1.245c-0.341,0.335-0.674,0.68-1.022,1.007
                                                c-0.433,0.406-0.884,0.792-1.327,1.186c-0.354,0.314-0.7,0.638-1.061,0.943c-0.456,0.386-0.929,0.752-1.397,1.125
                                                c-0.366,0.292-0.723,0.595-1.096,0.88c-0.483,0.369-0.983,0.716-1.477,1.07c-0.375,0.269-0.742,0.55-1.124,0.812
                                                c-0.508,0.348-1.034,0.676-1.553,1.01c-0.386,0.249-0.763,0.508-1.156,0.749c-0.539,0.331-1.096,0.641-1.647,0.958
                                                c-0.39,0.224-0.772,0.46-1.168,0.678c-0.57,0.313-1.159,0.605-1.742,0.903c-0.396,0.203-0.781,0.415-1.182,0.611
                                                c-0.589,0.287-1.196,0.553-1.798,0.826c-0.414,0.188-0.817,0.386-1.236,0.567c-0.609,0.262-1.236,0.503-1.857,0.751
                                                c-0.429,0.171-0.849,0.354-1.284,0.518c-0.63,0.238-1.277,0.455-1.919,0.679c-0.445,0.155-0.881,0.321-1.332,0.47
                                                c-0.642,0.211-1.305,0.402-1.961,0.599c-0.468,0.141-0.926,0.293-1.4,0.427c-0.661,0.187-1.34,0.352-2.012,0.525
                                                c-0.487,0.125-0.964,0.261-1.457,0.379c-0.697,0.167-1.414,0.313-2.125,0.466c-0.486,0.105-0.961,0.22-1.454,0.318
                                                c-0.723,0.143-1.466,0.266-2.202,0.396c-0.497,0.087-0.985,0.185-1.489,0.266c-0.744,0.12-1.507,0.218-2.265,0.323
                                                c-0.513,0.071-1.015,0.154-1.535,0.219c-0.773,0.096-1.565,0.171-2.352,0.253c-0.521,0.054-1.031,0.12-1.559,0.167
                                                c-0.785,0.071-1.589,0.121-2.386,0.178c-0.547,0.039-1.082,0.089-1.635,0.122c-0.873,0.052-1.767,0.081-2.656,0.115
                                                c-0.494,0.019-0.977,0.05-1.475,0.065c-1.396,0.04-2.81,0.06-4.243,0.06h-23.285
                                                C228.815,264.305,228.652,264.308,228.489,264.313z M159.598,346.567l30.679-200.952c0.763-1.707,2.361-3.099,3.089-3.288h77.525
                                                c25.526,0,43.816,5.486,52.896,15.864c6.761,7.731,10.003,15.356,10.656,26.275c-8.893-3.046-17.37-3.808-22.212-3.967
                                                c-0.258-0.025-0.516-0.038-0.778-0.038h-22.636c-0.181,0-0.36,0.006-0.539,0.018h-46.914c-0.098,0-0.196,0.002-0.293,0.005
                                                c-9.441,0.343-16.533,6.505-18.505,16.081c-0.027,0.134-0.052,0.267-0.072,0.402l-12.365,80.35l-11.307,69.248H159.598z"/>
                                        </g>
                                    </g>
                                </g>
                            </svg>

                            <p>Paypal</p>
                        </div>
                    </div>
                    <div class="right">
                        <h2>À la livraison</h2>
                        <div>
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                <g>
                                    <g>
                                        <path d="M85.072,454.931c-1.859-1.861-4.439-2.93-7.069-2.93s-5.21,1.069-7.07,2.93c-1.86,1.861-2.93,4.44-2.93,7.07
                                            s1.069,5.21,2.93,7.069c1.86,1.86,4.44,2.931,7.07,2.931s5.21-1.07,7.069-2.931c1.86-1.859,2.931-4.439,2.931-7.069
                                            S86.933,456.791,85.072,454.931z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M469.524,182.938c-1.86-1.861-4.43-2.93-7.07-2.93c-2.63,0-5.21,1.069-7.07,2.93c-1.859,1.86-2.93,4.44-2.93,7.07
                                            s1.07,5.21,2.93,7.069c1.86,1.86,4.44,2.931,7.07,2.931c2.64,0,5.21-1.07,7.07-2.931c1.869-1.859,2.939-4.439,2.939-7.069
                                            S471.393,184.798,469.524,182.938z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M509.065,2.929C507.189,1.054,504.645,0,501.992,0L255.998,0.013c-5.522,0-9.999,4.478-9.999,10V38.61l-94.789,25.399
                                            c-5.335,1.43-8.501,6.913-7.071,12.247l49.127,183.342l-42.499,42.499c-5.409-7.898-14.491-13.092-24.764-13.092H30.006
                                            c-16.542,0-29.999,13.458-29.999,29.999v162.996C0.007,498.542,13.464,512,30.006,512h95.998c14.053,0,25.875-9.716,29.115-22.78
                                            l11.89,10.369c9.179,8.004,20.939,12.412,33.118,12.412h301.867c5.522,0,10-4.478,10-10V10
                                            C511.992,7.348,510.94,4.804,509.065,2.929z M136.002,482.001c0,5.513-4.486,10-10,10H30.005c-5.514,0-10-4.486-10-10V319.005
                                            c0-5.514,4.486-10,10-10h37.999V424.2c0,5.522,4.478,10,10,10s10-4.478,10-10V309.005h37.999c5.514,0,10,4.486,10,10V482.001z
                                            M166.045,80.739l79.954-21.424V96.37l-6.702,1.796c-2.563,0.687-4.746,2.362-6.072,4.659s-1.686,5.026-0.999,7.588
                                            c3.843,14.341-4.698,29.134-19.039,32.977c-2.565,0.688-4.752,2.366-6.077,4.668c-1.325,2.301-1.682,5.035-0.989,7.599
                                            l38.979,144.338h-20.07l-10.343-40.464c-0.329-1.288-0.905-2.475-1.676-3.507L166.045,80.739z M245.999,142.229v84.381
                                            l-18.239-67.535C235.379,155.141,241.614,149.255,245.999,142.229z M389.663,492H200.125V492c-7.345,0-14.438-2.658-19.974-7.485
                                            l-24.149-21.061V325.147l43.658-43.658l7.918,30.98c1.132,4.427,5.119,7.523,9.688,7.523l196.604,0.012c7.72,0,14,6.28,14,14
                                            c0,7.72-6.28,14-14,14H313.13c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h132.04c7.72,0,14,6.28,14,14c0,7.72-6.28,14-14,14
                                            H313.13c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h110.643c7.72,0,14,6.28,14,14c0,7.72-6.28,14-14,14H313.13
                                            c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h76.533c7.72,0,14,6.28,14,14C403.662,485.72,397.382,492,389.663,492z
                                            M491.994,492h-0.001h-71.359c1.939-4.273,3.028-9.01,3.028-14s-1.089-9.727-3.028-14h3.139c18.747,0,33.999-15.252,33.999-33.999
                                            c0-5.468-1.305-10.635-3.609-15.217c14.396-3.954,25.005-17.149,25.005-32.782c0-7.584-2.498-14.595-6.711-20.255V235.007
                                            c0-5.522-4.478-10-10-10c-5.522,0-10,4.478-10,10v113.792c-2.35-0.515-4.787-0.795-7.289-0.795h-0.328
                                            c1.939-4.273,3.028-9.01,3.028-14c0-18.748-15.252-33.999-33.999-33.999h-16.075c17.069-7.32,29.057-24.286,29.057-44.005
                                            c0-26.389-21.468-47.858-47.857-47.858c-26.388,0-47.857,21.469-47.857,47.858c0,19.719,11.989,36.685,29.057,44.005h-54.663
                                            V109.863c17.864-3.893,31.96-17.988,35.852-35.853h75.221c3.892,17.865,17.988,31.96,35.852,35.853v31.09c0,5.522,4.478,10,10,10
                                            s10-4.478,10-10v-40.018c0-5.522-4.478-10-10-10c-14.847,0-26.924-12.079-26.924-26.925c0-5.522-4.478-10-10-10h-93.076
                                            c-5.522,0-10,4.478-10,10c0,14.847-12.078,26.925-26.924,26.925c-5.522,0-10,4.478-10,10v199.069H266V20.011L491.994,20V492z
                                            M378.996,283.858c-15.361,0-27.857-12.497-27.857-27.857s12.497-27.858,27.857-27.858S406.853,240.64,406.853,256
                                            S394.357,283.858,378.996,283.858z"/>
                                    </g>
                                </g>
                            </svg>
                            <p>Espèces</p>
                        </div>
                        <div>
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                <g>
                                    <g>
                                        <path d="M156,416c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10s10-4.48,10-10C166,420.48,161.52,416,156,416z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M432,236c-11.938,0-22.665,5.264-30,13.585C394.665,241.264,383.938,236,372,236c-22.056,0-40,17.944-40,40
                                            c0,22.056,17.944,40,40,40c11.938,0,22.665-5.264,30-13.585c7.335,8.321,18.062,13.585,30,13.585c22.056,0,40-17.944,40-40
                                            C472,253.944,454.056,236,432,236z M372,296c-11.028,0-20-8.972-20-20s8.972-20,20-20s20,8.972,20,20S383.028,296,372,296z
                                            M432,296c-11.028,0-20-8.972-20-20s8.972-20,20-20s20,8.972,20,20S443.028,296,432,296z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M482,196h-50V46c0-16.542-13.458-30-30-30H30C13.458,16,0,29.458,0,46v240c0,16.542,13.458,30,30,30h56v150
                                            c0,16.542,13.458,30,30,30h366c16.542,0,30-13.458,30-30V226C512,209.458,498.542,196,482,196z M20,46c0-5.514,4.486-10,10-10h372
                                            c5.514,0,10,4.486,10,10v30H20V46z M20,96h392v40H20V96z M86,226v70H30c-5.514,0-10-4.486-10-10V156h392v40H116
                                            C99.458,196,86,209.458,86,226z M492,466c0,5.514-4.486,10-10,10H116c-5.514,0-10-4.486-10-10V226c0-5.514,4.486-10,10-10h366
                                            c5.514,0,10,4.486,10,10V466z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M259,246H156c-5.522,0-10,4.478-10,10v40c0,5.522,4.478,10,10,10h103c5.522,0,10-4.478,10-10v-40
                                            C269,250.478,264.522,246,259,246z M249,286h-83v-20h83V286z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M199,356h-43c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h43c5.522,0,10-4.478,10-10C209,360.478,204.522,356,199,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M279,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C289,360.478,284.522,356,279,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M302,416H199c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h103c5.522,0,10-4.478,10-10
                                            C312,420.478,307.522,416,302,416z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M362,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C372,360.478,367.522,356,362,356
                                            z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M442,356h-40c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h40c5.522,0,10-4.478,10-10C452,360.478,447.522,356,442,356
                                            z"/>
                                    </g>
                                </g>
                            </svg>
                            <p>Carte bancaire</p>
                        </div>
                    </div>
                </div>
            </md-dialog-content>
        </md-dialog>
    </div>
</template>

<script>
import CompleteMenu from './CompleteMenu'
import SliderShow from './SliderShow'

import {mapGetters, mapMutations} from 'vuex'
import { totalmem } from 'os';
export default {  
    name: 'MenuSlider',
    components: {
        CompleteMenu,
        SliderShow
    },
    props:{
        currentMenuDay: {
            type: String,
            required: true,
        }
    },
    data() {
      return {
        veggieMode: false,
        payData: false,
        showKart: false,
      }
    },
    computed: {
        ...mapGetters([
            'weekClassicMenu',
            'weekVeggieMenu',
            'weekDay',
            'myShopKart',
            'priceKart',
            'deliveryPrice',
            'location'
        ]),
    },
    methods: {
        ...mapMutations([
            'addMenu',
            'removeMenu',
            'setKartValueInState',
            'getCookie'
        ]),
        emitValue(data){
            this.$emit('currentMenuDay', data)
        },
        getCookie(name) {
            var value = "; " + document.cookie;
            var parts = value.split("; " + name + "=");
            if (parts.length == 2) {
                return parts.pop().split(";").shift();
            }else{
                return JSON.stringify({});
            }
        }
    },
    created(){
        this.$emit('md-changed');
        if(Object.keys(this.myShopKart).length === 0){
            let kartFromStorage = JSON.parse(this.getCookie("yumyKart")) || {};
            this.setKartValueInState(kartFromStorage)
        }
    },
    updated(){
        let kartContent = JSON.stringify(this.myShopKart) || {};
        document.cookie = `yumyKart=${kartContent}; expires=31536e3, ${new Date()}`;
    }
}

</script>
